<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>JavaScript - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="small-font"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="JavaScript" class="main-title"></div></div></header><article><details class="wolai-block"><summary><div class="marker"></div><h3><span class="inline-wrap">目录</span></h3></summary><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#tYJcSoo8T2AEcBThsd1Voo" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">常量</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#eibmhoEtJKZA1Eui7kSnhy" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">变量</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#dh8M5fjhzTQSr6RYNeevfr" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">函数</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#5Nve3Zh19MR3sMBH2FCyiD" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">数据类型</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#ijtQXUf1n561xxax5bDNrW" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">流程控制</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#7N92pZuqzb19LykXdoYLHs" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">Class</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#qV5cm7ozN2crY6g5qhU6qp" class="wolai-bi-link"><span><span class="embed-jiu embed-h2"></span><span class="inline-wrap">Interface</span></span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.wolai.com/gEpXrNzHKEnYHoKBhMBcdH#rhgHgUqyBYL23izTvFLfi6" class="wolai-bi-link"><span><span class="embed-jiu embed-h3"></span><span class="inline-wrap">Error Handling</span></span></a></span></div></div></details><h2 class="wolai-block"><span class="inline-wrap">核心特性</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">动态类型，弱类型</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">解释性语言</span></li></ul></h2><h2 class="wolai-block"><span class="inline-wrap">快速上手</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在浏览器<span class="jill"></span>console<span class="jill"></span>中可以直接尝试</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>console.log()</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>//</code></span><span class="inline-wrap"> 注释</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">TypeScript 静态类型的<span class="jill"></span>JS</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">数据类型速览</span></summary><div class="wolai-block wolai-text"><p><br/></p></div></details></h2><h2 class="wolai-block"><span class="inline-wrap">常量</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span></pre></div></code-block></h2><h2 class="wolai-block"><span class="inline-wrap">变量</span><div class="wolai-block wolai-text"><div><span class="inline-wrap">var 和 let 差别：</span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">var </span><span class="red inline-wrap">作用域是函数</span><span class="inline-wrap">， let<span class="jill"></span>是</span><span class="red inline-wrap">块级</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">var 不可重复定义， let 可</span></div></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span></pre></div></code-block></h2><h2 class="wolai-block"><span class="inline-wrap">全局作用域 和 名字空间</span><div class="wolai-bookmark wolai-block"><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023021187855808#%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4">变量作用域与解构赋值</a><div class="info-box"><div class="text-pane"><div data-title="变量作用域与解构赋值"></div><div data-desc="迈向全栈工程师之路的JavaScript教程"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://www.liaoxuefeng.com/favicon.ico&quot;)"></div><div data-hostname="www.liaoxuefeng.com"></div></div></div><div class="preview-pane" style="background-image: url(https://www.liaoxuefeng.com/files/attachments/1025260348408640/l)"></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">没在函数内用</span><span class="inline-wrap"><code>var</code></span><span class="inline-wrap"> 定义的变量，就具有全局作用域。全局作用域的变量实际上被绑定到</span><span class="inline-wrap"><code>window</code></span><span class="inline-wrap">这个全局对象里。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">alert<span class="jill"></span>函数也是全局作用域，可以用<span class="jill"></span>window.alert<span class="jill"></span>取出</span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 把alert保存到另一个变量:</span>
<span class="token keyword">var</span> old_alert <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">alert</span><span class="token punctuation">;</span></pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">把自己的代码全部放入唯一的名字空间</span><span class="inline-wrap"><code>MYAPP</code></span><span class="inline-wrap">中，会大大减少全局变量冲突的可能。许多著名的<span class="jill"></span>JavaScript<span class="jill"></span>库都是这么干的：jQuery，YUI，underscore<span class="jill"></span>等等。</span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 唯一的全局变量MYAPP:</span>
<span class="token keyword">var</span> <span class="token constant">MYAPP</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 其他变量:</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">=</span> <span class="token string">'myapp'</span><span class="token punctuation">;</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token property-access">version</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>

<span class="token comment">// 其他函数:</span>
<span class="token constant">MYAPP</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">用</span><span class="inline-wrap"><code>let</code></span><span class="inline-wrap">替代</span><span class="inline-wrap"><code>var</code></span><span class="inline-wrap">可以申明一个块级作用域的变量。</span><span class="inline-wrap"><b>不是函数，而是块</b></span><span class="inline-wrap"><b><code>{}</code></b></span></div></div></h2><h2 class="wolai-block"><span class="inline-wrap">函数</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Foo</span></span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Bar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">abs</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>arguments</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">指向传入参数的一个 </span><span class="inline-wrap"><b>类<span class="jill"></span>array</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>arguments.length</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>arguments[0]</code></span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>rest</b></span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token spread operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'a = '</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'b = '</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 结果:</span>
<span class="token comment">// a = 1</span>
<span class="token comment">// b = 2</span>
<span class="token comment">// Array [ 3, 4, 5 ]</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 结果:</span>
<span class="token comment">// a = 1</span>
<span class="token comment">// b = undefined</span>
<span class="token comment">// Array []</span>
</pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>方法</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">给对象绑定一个函数，就叫方法</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span>
    birth<span class="token operator">:</span> <span class="token number">1990</span><span class="token punctuation">,</span>
    <span class="token function-variable function">age</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow">return</span> y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">birth</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>this</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">在一个方法内部，</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">是一个特殊变量，它始终指向</span><span class="red inline-wrap">当前对象</span><span class="inline-wrap">，也就是</span><span class="inline-wrap"><code>xiaoming</code></span><span class="inline-wrap">这个变量。所以，</span><span class="inline-wrap"><code>this.birth</code></span><span class="inline-wrap">可以拿到</span><span class="inline-wrap"><code>xiaoming</code></span><span class="inline-wrap">的</span><span class="inline-wrap"><code>birth</code></span><span class="inline-wrap">属性。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">js 有很多相关的坑</span></div></div><div class="wolai-bookmark wolai-block"><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023023754768768">方法</a><div class="info-box"><div class="text-pane"><div data-title="方法"></div><div data-desc="迈向全栈工程师之路的JavaScript教程"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://www.liaoxuefeng.com/favicon.ico&quot;)"></div><div data-hostname="www.liaoxuefeng.com"></div></div></div><div class="preview-pane" style="background-image: url(https://www.liaoxuefeng.com/files/attachments/1025260348408640/l)"></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>apply</b></span><span class="inline-wrap"> 可以改变<span class="jill"></span>this<span class="jill"></span>的指向。要指定函数的</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">指向哪个对象，可以用函数本身的</span><span class="inline-wrap"><code>apply</code></span><span class="inline-wrap">方法，它接收两个参数，第一个参数就是需要绑定的</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">变量，第二个参数是</span><span class="inline-wrap"><code>Array</code></span><span class="inline-wrap">，表示函数本身的参数。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">birth</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span>
    birth<span class="token operator">:</span> <span class="token number">1990</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> getAge
<span class="token punctuation">}</span><span class="token punctuation">;</span>

xiaoming<span class="token punctuation">.</span><span class="token method function property-access">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25</span>
getAge<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span>xiaoming<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25, this指向xiaoming, 参数为空</span>
</pre></div></code-block><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">统计函数调用次数的实例</span></summary><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oldParseInt <span class="token operator">=</span> parseInt<span class="token punctuation">;</span> <span class="token comment">// 保存原函数</span>

<span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">parseInt</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> oldParseInt<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用原函数</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></pre></div></code-block></details></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>箭头函数</b></span></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">类似于匿名函数</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">可以取参数，无参，或者可变参数</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 可变参数</span>
<span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token spread operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> i<span class="token punctuation">,</span> sum <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>rest<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> rest<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果返回对象，用括号</span><span class="inline-wrap"><code>()</code></span><span class="inline-wrap"> 括起来</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">现在，箭头函数完全修复了</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">的指向，</span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap">总是指向词法作用域，也就是外层调用者</span><span class="inline-wrap"><code>obj</code></span><span class="inline-wrap"> </span><span class="inline-wrap"><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1031549578462080"><span>https://www.liaoxuefeng.com/wiki/1022910821149312/1031549578462080</span></a></span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    birth<span class="token operator">:</span> <span class="token number">1990</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getAge</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">birth</span><span class="token punctuation">;</span> <span class="token comment">// 1990</span>
        <span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">birth</span><span class="token punctuation">;</span> <span class="token comment">// this指向obj对象</span>
        <span class="token keyword control-flow">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token method function property-access">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 25</span>
</pre></div></code-block></li></ul></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></h2><h2 class="wolai-block"><span class="inline-wrap">数据类型</span><div class="wolai-block wolai-text"><div><span class="inline-wrap">类型检测: </span><span class="inline-wrap"><code>typeof(obj)</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>number</b></span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 整数123</span>
<span class="token number">0.456</span><span class="token punctuation">;</span> <span class="token comment">// 浮点数0.456</span>
<span class="token number">1.2345e3</span><span class="token punctuation">;</span> <span class="token comment">// 科学计数法表示1.2345x1000，等同于1234.5</span>
<span class="token operator">-</span><span class="token number">99</span><span class="token punctuation">;</span> <span class="token comment">// 负数</span>
<span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// NaN表示Not a Number，当无法计算结果时用NaN表示</span>
<span class="token number">Infinity</span><span class="token punctuation">;</span> <span class="token comment">// Infinity表示无限大，当数值超过了JavaScript的Number所能表示的最大值时，就表示为Infinity</span>
</pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>string</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">单引号</span><span class="inline-wrap"><code>&#39;&#39;</code></span><span class="inline-wrap"> 双引号</span><span class="inline-wrap"><code>&quot;&quot;</code></span><span class="inline-wrap"> 都行</span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>boolean</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">true || false</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>&amp;&amp;</code></span><span class="inline-wrap"> , </span><span class="inline-wrap"><code>||</code></span><span class="inline-wrap">,  </span><span class="inline-wrap"><code>!</code></span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b><code>==</code></b></span><span class="inline-wrap"><b> 和</b></span><span class="inline-wrap"><b><code>===</code></b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">第一种是</span><span class="inline-wrap"><code>==</code></span><span class="inline-wrap">比较，它会自动转换数据类型再比较，很多时候，会得到非常诡异的结果；</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">第二种是</span><span class="inline-wrap"><code>===</code></span><span class="inline-wrap">比较，它不会自动转换数据类型，如果数据类型不一致，返回</span><span class="inline-wrap"><code>false</code></span><span class="inline-wrap">，如果一致，再比较。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">由于<span class="jill"></span>JavaScript<span class="jill"></span>这个设计缺陷，_不要_使用</span><span class="inline-wrap"><code>==</code></span><span class="inline-wrap">比较，始终坚持使用</span><span class="inline-wrap"><code>===</code></span><span class="inline-wrap">比较。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token boolean">false</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">NaN 与任何值（包括它本身）比较都是<span class="jill"></span>false, 只能用 isNaN() 函数 判断</span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b><code>null</code></b></span><span class="inline-wrap"><b>, </b></span><span class="inline-wrap"><b><code>undefine</code></b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">表示“空值”， 与</span><span class="inline-wrap"><code>0</code></span><span class="inline-wrap"> , </span><span class="inline-wrap"><code>&#39;&#39;</code></span><span class="inline-wrap"> 都不同</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">两者类似，建议直接用</span><span class="inline-wrap"><code>null</code></span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>Array</b></span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// 建议的新建方法</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">可以索引 </span><span class="inline-wrap"><code>arr[0]</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>push</code></span><span class="inline-wrap"> append</span></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>对象</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">键值对，键是字符串，值可以是任意类型</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    tags<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token string">'mobile'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    city<span class="token operator">:</span> <span class="token string">'Beijing'</span><span class="token punctuation">,</span>
    hasCar<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    zipcode<span class="token operator">:</span> <span class="token keyword null nil">null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 读取对象的属性</span>
person<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span> <span class="token comment">// 'Bob'</span>
person<span class="token punctuation">.</span><span class="token property-access">zipcode</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>Map</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">键可以为其他类型的 对象(ES6)</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Michael'</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Tracy'</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 空Map</span>
m<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加新的key-value</span>
m<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token method function property-access">has</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 是否存在key 'Adam': true</span>
m<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 67</span>
m<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除key 'Adam'</span>
m<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'Adam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>Set</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">数学上的集合，可以包含不同类型的元素</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>Iterable</b></span></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>Array</code></span><span class="inline-wrap">、</span><span class="inline-wrap"><code>Map</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>Set</code></span><span class="inline-wrap">都属于</span><span class="inline-wrap"><code>iterable</code></span><span class="inline-wrap">类型。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">用 </span><span class="inline-wrap"><code>for...of</code></span><span class="inline-wrap"> 遍历。 </span><span class="inline-wrap"><code>for ... in</code></span><span class="inline-wrap">循环由于历史遗留问题，它遍历的实际上是对象的属性名称。一个</span><span class="inline-wrap"><code>Array</code></span><span class="inline-wrap">数组实际上也是一个对象，它的每个元素的索引被视为一个属性。 </span></div></div></div></h2><h2 class="wolai-block"><span class="inline-wrap">流程控制</span><div class="wolai-block wolai-text"><div><span class="inline-wrap">if</span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">if</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
</pre></div></code-block></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">for</span></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span>
<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> line <span class="token keyword">of</span> lines<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token spread operator">...</span><span class="token punctuation">}</span></pre></div></code-block></div></h2><h2 class="wolai-block"><span class="inline-wrap">strict<span class="jill"></span>模式</span><div class="wolai-block wolai-text"><div><span class="inline-wrap">开启<span class="jill"></span>strict 模式: 在第一行加上 </span><span class="inline-wrap"><code>&#39;use strict&#39;;</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">未开启时不强制用<span class="jill"></span>var<span class="jill"></span>声明变量，可能造成重复定义互相影响</span></div></div></h2><h2 class="wolai-block"><span class="inline-wrap">Class</span></h2><h2 class="wolai-block"><span class="inline-wrap">Interface</span></h2><h3 class="wolai-block"><span class="inline-wrap">Error Handling</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'works'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'throw an error!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'not work'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">finally</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'always work'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></h3><h2 class="wolai-block"><span class="inline-wrap">库</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></article><footer></footer></body></html>